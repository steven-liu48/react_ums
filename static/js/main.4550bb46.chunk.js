(this.webpackJsonpuser_system=this.webpackJsonpuser_system||[]).push([[0],{184:function(e,t,n){},186:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){},199:function(e,t){},201:function(e,t){},212:function(e,t){},214:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},249:function(e,t){},251:function(e,t){},270:function(e,t){},282:function(e,t){},285:function(e,t){},309:function(e,t,n){},310:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),s=n.n(c),r=n(43),i=n.n(r),o=(n(184),n(17)),l=n.n(o),u=n(33),d=n(21),j=n(58),b=n(59),p=(n(186),n(11));n(187);function O(){return Object(a.jsx)("div",{className:"Home",children:Object(a.jsxs)("div",{className:"lander",children:[Object(a.jsx)("h1",{children:"Hi there!"}),Object(a.jsx)("p",{className:"text-muted",children:"Welcome."})]})})}var h=n(319),x=n(10),f=n(56),g=n(178),m=n(168);n(188);function v(e){var t=e.isLoading,n=e.className,c=void 0===n?"":n,s=e.disabled,r=void 0!==s&&s,i=Object(g.a)(e,["isLoading","className","disabled"]);return Object(a.jsx)(m.a,Object(f.a)({disabled:r||t,className:"LoaderButton ".concat(c)},i))}var w=Object(c.createContext)(null);function I(){return Object(c.useContext)(w)}var C=n(66);function y(e){var t=Object(c.useState)(e),n=Object(d.a)(t,2),a=n[0],s=n[1];return[a,function(e){s(Object(f.a)(Object(f.a)({},a),{},Object(C.a)({},e.target.id,e.target.value)))}]}n(189);function L(){var e=Object(p.k)(),t=I().userHasAuthenticated,n=Object(c.useState)(!1),s=Object(d.a)(n,2),r=s[0],i=s[1],o=y({email:"",password:""}),j=Object(d.a)(o,2),b=j[0],O=j[1];function f(){return(f=Object(u.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),i(!0),n.prev=2,n.next=5,h.a.signIn(b.email,b.password);case 5:t(!0),e.push("/"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(2),alert(n.t0.message),i(!1);case 13:case"end":return n.stop()}}),n,null,[[2,9]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Login",children:Object(a.jsxs)(x.a,{onSubmit:function(e){return f.apply(this,arguments)},children:[Object(a.jsxs)(x.a.Group,{size:"lg",controlId:"email",children:[Object(a.jsx)(x.a.Label,{children:"Email"}),Object(a.jsx)(x.a.Control,{autoFocus:!0,type:"email",value:b.email,onChange:O})]}),Object(a.jsxs)(x.a.Group,{size:"lg",controlId:"password",children:[Object(a.jsx)(x.a.Label,{children:"Password"}),Object(a.jsx)(x.a.Control,{type:"password",value:b.password,onChange:O})]}),Object(a.jsx)(v,{block:!0,size:"lg",type:"submit",isLoading:r,disabled:!(b.email.length>0&&b.password.length>0),children:"Login"})]})})}n(309);function N(){var e=y({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(p.k)(),i=Object(c.useState)(null),o=Object(d.a)(i,2),j=o[0],b=o[1],O=I().userHasAuthenticated,f=Object(c.useState)(!1),g=Object(d.a)(f,2),m=g[0],w=g[1];function C(e){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.prev=2,e.next=5,h.a.signUp({username:n.email,password:n.password});case 5:a=e.sent,w(!1),b(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0.message),w(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function N(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),e.prev=2,e.next=5,h.a.confirmSignUp(n.email,n.confirmationCode);case 5:return e.next=7,h.a.signIn(n.email,n.password);case 7:O(!0),r.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),alert(e.t0.message),w(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}return Object(a.jsx)("div",{className:"Signup",children:null===j?Object(a.jsxs)(x.a,{onSubmit:C,children:[Object(a.jsxs)(x.a.Group,{controlId:"email",size:"lg",children:[Object(a.jsx)(x.a.Label,{children:"Email"}),Object(a.jsx)(x.a.Control,{autoFocus:!0,type:"email",value:n.email,onChange:s})]}),Object(a.jsxs)(x.a.Group,{controlId:"password",size:"lg",children:[Object(a.jsx)(x.a.Label,{children:"Password"}),Object(a.jsx)(x.a.Control,{type:"password",value:n.password,onChange:s})]}),Object(a.jsxs)(x.a.Group,{controlId:"confirmPassword",size:"lg",children:[Object(a.jsx)(x.a.Label,{children:"Confirm Password"}),Object(a.jsx)(x.a.Control,{type:"password",onChange:s,value:n.confirmPassword})]}),Object(a.jsx)(v,{block:!0,size:"lg",type:"submit",isLoading:m,disabled:!(n.email.length>0&&n.password.length>0&&n.password===n.confirmPassword),children:"Signup"})]}):Object(a.jsxs)(x.a,{onSubmit:N,children:[Object(a.jsxs)(x.a.Group,{controlId:"confirmationCode",size:"lg",children:[Object(a.jsx)(x.a.Label,{children:"Confirmation Code"}),Object(a.jsx)(x.a.Control,{autoFocus:!0,type:"tel",onChange:s,value:n.confirmationCode}),Object(a.jsx)(x.a.Text,{muted:!0,children:"Please check your email for the code."})]}),Object(a.jsx)(v,{block:!0,size:"lg",type:"submit",isLoading:m,disabled:!(n.confirmationCode.length>0),children:"Verify"})]})})}n(310);function k(){return Object(a.jsx)("div",{className:"NotFound text-center",children:Object(a.jsx)("h3",{children:"404 Page not found"})})}function P(){return Object(a.jsxs)(p.g,{children:[Object(a.jsx)(p.d,{exact:!0,path:"/",children:Object(a.jsx)(O,{})}),Object(a.jsx)(p.d,{exact:!0,path:"/login",children:Object(a.jsx)(L,{})}),Object(a.jsx)(p.d,{exact:!0,path:"/signup",children:Object(a.jsx)(N,{})}),Object(a.jsx)(p.d,{children:Object(a.jsx)(k,{})})]})}var S=n(71);var E=function(){var e=Object(c.useState)(!1),t=Object(d.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!0),i=Object(d.a)(r,2),o=i[0],O=i[1],x=Object(p.k)();function f(){return(f=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.currentSession();case 3:s(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),"No current user"!==e.t0&&alert(e.t0);case 9:O(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.signOut();case 2:s(!1),x.push("/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){f.apply(this,arguments)}()}),[]),!o&&Object(a.jsxs)("div",{className:"App container py-3",children:[Object(a.jsxs)(j.a,{collapseOnSelect:!0,bg:"light",expand:"md",className:"mb-3",children:[Object(a.jsx)(S.LinkContainer,{to:"/",children:Object(a.jsx)(j.a.Brand,{className:"font-weight-bold text-muted",children:"User Management System"})}),Object(a.jsx)(j.a.Toggle,{}),Object(a.jsx)(j.a.Collapse,{className:"justify-content-end",children:Object(a.jsx)(b.a,{activeKey:window.location.pathname,children:n?Object(a.jsx)(b.a.Link,{onClick:function(){return g.apply(this,arguments)},children:"Logout"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S.LinkContainer,{to:"/signup",children:Object(a.jsx)(b.a.Link,{children:"Signup"})}),Object(a.jsx)(S.LinkContainer,{to:"/login",children:Object(a.jsx)(b.a.Link,{children:"Login"})})]})})})]}),Object(a.jsx)(w.Provider,{value:{isAuthenticated:n,userHasAuthenticated:s},children:Object(a.jsx)(P,{})})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,320)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))},G=n(31),D={s3:{REGION:"us-east-1",BUCKET:"user-management"},apiGateway:{REGION:"us-east-1",URL:"NA"},cognito:{REGION:"us-east-1",USER_POOL_ID:"us-east-1_QigsG13Am",APP_CLIENT_ID:"7s95pagp9l2jptpl3lguae9pbe",IDENTITY_POOL_ID:"us-east-1:aebcec5d-549a-41ca-8f65-d5edcd635bfa"}};n(103).a.configure({Auth:{mandatorySignIn:!0,region:D.cognito.REGION,userPoolId:D.cognito.USER_POOL_ID,identityPoolId:D.cognito.IDENTITY_POOL_ID,userPoolWebClientId:D.cognito.APP_CLIENT_ID},Storage:{region:D.s3.REGION,bucket:D.s3.BUCKET,identityPoolId:D.cognito.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:D.apiGateway.URL,region:D.apiGateway.REGION}]}}),i.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(G.BrowserRouter,{children:Object(a.jsx)(E,{})})}),document.getElementById("root")),_()}},[[312,1,2]]]);
//# sourceMappingURL=main.4550bb46.chunk.js.map